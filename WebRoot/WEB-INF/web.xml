<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">
<!-- 
<web-app version="2.4"
         xmlns="http://java.sun.com/xml/ns/j2ee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" >  -->
  <display-name>SinoEAM</display-name> 
  <description>重庆移动资产管理</description>
     <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:SinoConfig/EntryConfig.xml</param-value>
    </context-param>
    <context-param>
        <param-name>startConfigListener</param-name>
        <param-value>true</param-value>
    </context-param>
    <context-param>
        <param-name>listenFrequency</param-name>
        <param-value>60</param-value>
    </context-param>
  <filter>
    <filter-name>SetCharacterEncoding</filter-name>
    <filter-class>com.sino.base.web.filter.CharacterEncodingFilter</filter-class>
    <init-param>
      <param-name>encoding</param-name>
      <param-value>GBK</param-value>
    </init-param>
  </filter>
    <filter>
        <filter-name>ssotokenfilter</filter-name>
        <filter-class>com.sino.sso.filter.SSOTokenFilter</filter-class>
        <init-param>
            <param-name>authenticateURL</param-name>
            <param-value>http://portal.sxmcc.com.cn/amserver/UI/Login</param-value>
        </init-param>
    </filter>
  <filter>
    <filter-name>WebAccessFilter</filter-name>
    <filter-class>com.sino.framework.security.filter.WebAccessFilter</filter-class>
    <init-param>
      <param-name>userDTO</param-name>
      <param-value>com.sino.ams.system.user.dto.SfUserDTO</param-value>
    </init-param>
    <init-param>
      <param-name>loginName</param-name>
      <param-value>loginName</param-value>
    </init-param>
    <init-param>
      <param-name>loginPwd</param-name>
      <param-value>password</param-value>
    </init-param>
	 <init-param>
      <param-name>modulePath</param-name>
      <param-value>D:\module</param-value>
    </init-param>
    <init-param>
      <param-name>loginDAO</param-name>
      <param-value>com.sino.ams.log.dao.UserLoginDAO</param-value>
    </init-param>
     <init-param>
      <param-name>loginSuccessURL</param-name>
      <param-value>/servlet/com.sino.sinoflow.framework.security.servlet.LoginFrmServlet</param-value>
    </init-param>
    <init-param>
      <param-name>authenticator</param-name>
      <param-value>com.sino.sinoflow.framework.security.dao.SFPriviAuthenticator</param-value>
    </init-param>
    <init-param>
      <param-name>loginUrl</param-name>
      <param-value>/login.jsp</param-value>
    </init-param>
    <init-param>
      <param-name>loginServlet</param-name>
      <param-value>/servlet/com.sino.framework.security.servlet.UserLoginServlet</param-value>
    </init-param>
    <init-param>
      <param-name>logOutServlet</param-name>
      <param-value>/servlet/com.sino.framework.security.servlet.UserLogOutServlet</param-value>
    </init-param>
    <init-param>
      <param-name>sessionServlet</param-name>
      <param-value>/servlet/com.sino.framework.security.servlet.SessionSetServlet</param-value>
    </init-param>
    <init-param>
      <param-name>timeOutUrl</param-name>
      <param-value>/timeOutPage.jsp</param-value>
    </init-param>
    <init-param>
      <param-name>noPriviledgeURL</param-name>
      <param-value>/noPriviPage.jsp</param-value>
    </init-param>
    <init-param>
      <param-name>exceptServlets</param-name>
      <param-value>OACountServlet;SSOForward;OAInboxServlet;OABoxServlet;GetShareDic;GetOPE;GetNLE;GetLNE;GetCountry;GetManufacturer;GetBTS;GetCEX;GetConstructDic;GetContent;GetContentCEX;GetContentLNE;GetContentNLE;GetContentOPE;GISQueryServlet;GISServlet;GetPDAConfig;logOutServlet;SessionSetServlet;PortalLoginServlet;FirstLoginServlet;GetGroups;GetProjs;GetRoles;FlowSubmit;FetchProject;ValidateUser;GetServerTime;GetWorkOrders;GetItemCategory;GetItemInfo;GetETSInfo;GetFAInfo;GetGroupUsers;GetLocationInfo;CreateWorkOrder;SignWorkOrder;WorkOrderSubmit;AssignWorkOrders;GetAssignGroups;SMSServlet;GetSpareOrders;GetSpareInfo;QueryAssets;SubmitSpareOrder;CreateSpareOrder;GetSpareLoc;QueryUpdate;BillDownload;BillCreate;GetChkTask;GetArchiveUser;GetSpecialityDept;GetTaskServlet;GetProject;GetImplementUser</param-value>
    </init-param>
    <init-param>
      <param-name>exceptPackages</param-name>
      <param-value>GISQueryServlet;GISServlet;SMSTestServlet;logOutServlet;SessionSetServlet;PortalLoginServlet;FirstLoginServlet;GetGroups;GetProjs;GetRoles;FlowSubmit;ValidateUser;GetServerTime;GetWorkOrders;GetItemCategory;GetItemInfo;GetETSInfo;GetFAInfo;GetGroupUsers;GetLocationInfo;CreateWorkOrder;SignWorkOrder;WorkOrderSubmit;AssignWorkOrders;GetAssignGroups;SMSServlet;GetSpareOrders;GetSpareInfo;QueryAssets;SubmitSpareOrder;CreateSpareOrder;GetSpareLoc;QueryUpdate;BillDownload;BillCreate;GetChkTask;GetArchiveUser;GetSpecialityDept;GetTaskServlet</param-value>
    </init-param>
    <init-param>
      <param-name>exceptJSPs</param-name>
      <param-value>testPortal.jsp;portalLogin.jsp;oa.jsp;index.jsp;gisInfoStatic.jsp</param-value>
    </init-param>
    <init-param>
      <param-name>exceptions</param-name>
      <param-value>htm;html;css;js;jpg;gif;ico;htc;faces</param-value>
    </init-param>
  </filter>
  <filter>
    <filter-name>LogFilter</filter-name>
    <filter-class>com.sino.ams.system.log.filter.SfUserLogFilter</filter-class>
    <init-param>
      <param-name>startLog</param-name>
      <param-value>true</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>SetCharacterEncoding</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <filter-mapping>
    <filter-name>ssotokenfilter</filter-name>
    <url-pattern>/servlet/*</url-pattern>
  </filter-mapping>
  <filter-mapping>
    <filter-name>WebAccessFilter</filter-name>
    <url-pattern>/servlet/*</url-pattern>
  </filter-mapping>
    <filter-mapping>
    <filter-name>WebAccessFilter</filter-name>
    <url-pattern>*.jsp</url-pattern>
  </filter-mapping>
  <filter-mapping>
    <filter-name>LogFilter</filter-name>
    <url-pattern>/servlet/*</url-pattern>
    <dispatcher>REQUEST</dispatcher>
    <dispatcher>FORWARD</dispatcher>
  </filter-mapping>
      <filter-mapping>
    <filter-name>LogFilter</filter-name>
    <url-pattern>*.jsp</url-pattern>
  </filter-mapping>
     <listener>
        <listener-class>com.sino.foundation.web.listener.SinoAppContextListener</listener-class>
    </listener> 
    <!--<listener>-->
        <!--<listener-class>com.sun.faces.config.ConfigureListener</listener-class>-->
    <!--</listener>-->
  <!--<listener>-->
    <!--<listener-class>com.sino.analyse.importData.web.listener.ContextListener</listener-class>-->
  <!--</listener>-->
  <!--
  <listener>
       <listener-class>com.sino.base.web.listener.SessionListener</listener-class>
   </listener>-->
    
  <listener>
    <listener-class>com.sino.framework.security.servlet.SessionHandle</listener-class>
  </listener>
  
  <!-- Huan add listener -->
  <!--  <listener> -->
  <!-- 	<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class> -->
  <!--  </listener> -->
  <!-- Huan add end -->
  
  <!-- MVC servlets -->
  <!--<servlet>
	<servlet-name>appServlet</servlet-name>
	<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
	<init-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
	</init-param>
	<load-on-startup>3</load-on-startup>
  </servlet>
  
  <servlet-mapping>
  	<servlet-name>appServlet</servlet-name>
  	<url-pattern>/mvc/</url-pattern>
  </servlet-mapping>
  MVC servlets end -->
  
  <servlet>
    <servlet-name>SinoInitServlet</servlet-name>
    <servlet-class>com.sino.base.web.init.SinoInitServlet</servlet-class>
    <init-param>
      <param-name>loadConnPools</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>loadMessages</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>startSMSService</param-name>
      <param-value>false</param-value>
    </init-param>
    <init-param>
      <param-name>startWorkorderDefineService</param-name>
      <param-value>false</param-value>
    </init-param>
    <init-param>
      <param-name>startListener</param-name>
      <param-value>false</param-value>
    </init-param>
    <init-param>
      <param-name>listenFrequency</param-name>
      <param-value>60</param-value>
    </init-param>
    <init-param>
      <param-name>startRecycleServer</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>checkUnique</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>checkEmpty</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>checkLength</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>checkNumber</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>systemName</param-name>
      <param-value>资产管理系统</param-value>
    </init-param>
    <init-param>
      <param-name>sysAdminRole</param-name>
      <param-value>系统管理员</param-value>
    </init-param>
    <init-param>
      <param-name>cityAdminRole</param-name>
      <param-value>地市管理员</param-value>
    </init-param>
    <init-param>
      <param-name>provAssetsMgr</param-name>
      <param-value>全省资产管理员</param-value>
    </init-param>
    <init-param>
      <param-name>compAssetsMgr</param-name>
      <param-value>公司资产管理员</param-value>
    </init-param>
    <init-param>
      <param-name>deptAssetsMgr</param-name>
      <param-value>部门资产管理员</param-value>
    </init-param>
    <init-param>
      <param-name>mtlAssetsMgr</param-name>
      <param-value>专业资产管理员</param-value>
    </init-param>
    <init-param>
      <param-name>provinceOrgId</param-name>
      <param-value>82</param-value>
    </init-param>
    <init-param>
      <param-name>proCompanyCode</param-name>
      <param-value>4110</param-value>
    </init-param>
    <init-param>
      <param-name>proCompanyName</param-name>
      <param-value>OU_重庆市本部</param-value>
    </init-param>
    <init-param>
      <param-name>provinceCode</param-name>
      <param-value>41</param-value>
    </init-param>
      <init-param>
        <param-name>tdProvinceOrgId</param-name>
        <param-value>101</param-value>
      </init-param>
      <init-param>
        <param-name>tdProCompanyCode</param-name>
        <param-value>8110</param-value>
      </init-param>
      <init-param>
        <param-name>tdProCompanyName</param-name>
        <param-value>OU_重庆市本部</param-value>
      </init-param>
      <init-param>
        <param-name>tdProvinceCode</param-name>
        <param-value>81</param-value>
      </init-param>
    <init-param>
      <param-name>loginImage</param-name>
      <param-value>/images/index-1-xian.jpg</param-value>
    </init-param>
    <init-param>
      <param-name>topImage</param-name>
      <param-value>/images/top-1-xian.jpg</param-value>
    </init-param>

    <init-param>
      <param-name>faCategory1</param-name>
      <param-value>CMCC_FA_CAT_1</param-value>
    </init-param>
    <init-param>
      <param-name>faCategory2</param-name>
      <param-value>CMCC_FA_CAT_2</param-value>
    </init-param>
    <init-param>
      <param-name>faCategory3</param-name>
      <param-value>CMCC_FA_CAT_3</param-value>
    </init-param>
    <init-param>
      <param-name>companySegment</param-name>
      <param-value>SXMC_COA_CO</param-value>
    </init-param>
    <init-param>
      <param-name>costCenterSegment</param-name>
      <param-value>SXMC_COA_CC</param-value>
    </init-param>
    <init-param>
      <param-name>accountSegment</param-name>
      <param-value>SXMC_COA_AC</param-value>
    </init-param>
    <init-param>
      <param-name>bandSegment</param-name>
      <param-value>SXMC_COA_SB</param-value>
    </init-param>
    <init-param>
      <param-name>projectSegment</param-name>
      <param-value>SXMC_COA_PJ</param-value>
    </init-param>
    <init-param>
      <param-name>internalComeSegment</param-name>
      <param-value>SXMC_COA_IC</param-value>
    </init-param>
    <init-param>
      <param-name>spareSegment</param-name>
      <param-value>SXMC_COA_SP</param-value>
    </init-param>
    <!--<init-param>-->
      <!--<param-name>initRunner</param-name>&lt;!&ndash;�����������̬���е��࣬�������̳�com.sino.base.web.init.SinoInitialRunner&ndash;&gt;-->
      <!--<param-value>com.sino.ams.init.AMSInitialRunner</param-value>-->
    <!--</init-param>-->
    <load-on-startup>1</load-on-startup>
  </servlet>
   <!--DWR2.0-->
   <!--<servlet>
    <servlet-name>dwr-invoker</servlet-name>
    <servlet-class>org.directwebremoting.servlet.DwrServlet</servlet-class>
    <init-param>
      <param-name>debug</param-name>
      <param-value>true</param-value>
    </init-param>
	<init-param>
    <param-name>crossDomainSessionSecurity</param-name>
    <param-value>false</param-value>
   </init-param>
   <load-on-startup>2</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>dwr-invoker</servlet-name>
    <url-pattern>/dwr/*</url-pattern>
  </servlet-mapping>-->
    <servlet>
        <servlet-name>MessageProcess</servlet-name>
        <servlet-class>com.sino.framework.servlet.MessageProcessServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>action</servlet-name>
        <servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
        <init-param>
            <param-name>config</param-name>
            <param-value>
                /WEB-INF/classes/config/struts/struts-config-rds.xml
            </param-value>
        </init-param>
        <load-on-startup>2</load-on-startup>
    </servlet>
    
   
    <!--added by yuli on 2009-05-15-->
    <servlet-mapping>
        <servlet-name>action</servlet-name>
        <url-pattern>*.do</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>MessageProcess</servlet-name>
        <url-pattern>/message/MessageProcess</url-pattern>
    </servlet-mapping>
  <session-config>
    <session-timeout>120</session-timeout>
  </session-config>
  <welcome-file-list>
    <welcome-file>login.jsp</welcome-file>
  </welcome-file-list>
</web-app>